<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Light DOM Components - RainWC</title>
  <style>
    body {
      font-family: system-ui, -apple-system, sans-serif;
      max-width: 800px;
      margin: 0 auto;
      padding: 2rem;
      background: #f5f5f5;
    }
    .example {
      background: white;
      padding: 1.5rem;
      border-radius: 8px;
      margin: 1rem 0;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    h1 { color: #333; }
    h2 { color: #666; margin-top: 2rem; }
  </style>
</head>
<body>
  <h1>üåßÔ∏è Light DOM Components</h1>
  
  <div class="example">
    <h2>Light DOM with CSS Function</h2>
    <my-light-card title="Light DOM Card"></my-light-card>
  </div>

  <div class="example">
    <h2>Light DOM with Manual Style Tag</h2>
    <my-light-manual title="Manual Style Card"></my-light-manual>
  </div>

  <div class="example">
    <h2>Shadow DOM vs Light DOM Comparison</h2>
    <my-shadow-card title="Shadow DOM Card"></my-shadow-card>
    <my-light-card title="Light DOM Card"></my-light-card>
    <p><em>Inspect the DOM to see the difference!</em></p>
  </div>

  <div class="example">
    <h2>Slots in Light DOM</h2>
    <my-light-slot-card>
      <p slot="content">This content is slotted into the light DOM component!</p>
      <p slot="content">Multiple elements can be slotted.</p>
    </my-light-slot-card>
  </div>
  
  <script src="./rainwc.umd.min.js"></script>
  <script>
    const { rain, html, dangerouslySetInnerHTML, css } = RainWC
    
    // Shadow DOM component (default)
    rain('my-shadow-card', {
      title: { type: String, default: 'Default Title' }
    }, function(props) {
      return () => html`
        <style>
          .card {
            border: 2px solid blue;
            padding: 1rem;
            margin: 0.5rem 0;
            background: lightblue;
          }
        </style>
        <div class="card">
          <h3>Shadow DOM: ${props().title}</h3>
          <p>This uses shadow DOM encapsulation</p>
        </div>
      `
    })
    
    // Light DOM component with css() function  
    rain.light('my-light-card', {
      title: { type: String, default: 'Default Title' }
    }, function(props) {
      const styles = css`
        .light-card {
          border: 2px solid green;
          padding: 1rem;
          margin: 0.5rem 0;
          background: lightgreen;
        }
      `
      
      return () => html`
        <div>
          ${styles}
          <div class="light-card">
            <h3>Light DOM: ${props().title}</h3>
            <p>This uses css() function with light DOM!</p>
          </div>
        </div>
      `
    })
    
    // Light DOM component with manual style insertion
    rain.light('my-light-manual', {
      title: { type: String, default: 'Default Title' }
    }, function(props) {
      return () => html`
        <div>
          ${dangerouslySetInnerHTML(`
            <style>
              .manual-card {
                border: 2px solid orange;
                padding: 1rem;
                margin: 0.5rem 0;
                background: lightyellow;
              }
            </style>
          `)}
          <div class="manual-card">
            <h3>Manual: ${props().title}</h3>
            <p>This uses dangerouslySetInnerHTML for manual control!</p>
          </div>
        </div>
      `
    })
    
    // Light DOM component with slots
    rain.light('my-light-slot-card', function() {
      return () => html`
        <div>
          ${dangerouslySetInnerHTML(`
            <style>
              .slot-card {
                border: 2px solid purple;
                padding: 1rem;
                margin: 0.5rem 0;
                background: lavender;
              }
            </style>
          `)}
          <div class="slot-card">
            <h3>Light DOM with Slots</h3>
            <div>
              <slot name="content">Default slot content</slot>
            </div>
          </div>
        </div>
      `
    })
  </script>
</body>
</html>